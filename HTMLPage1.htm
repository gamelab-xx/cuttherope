<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>EaselJS Example: Text</title>

<link href="styles/styles.css" rel="stylesheet" type="text/css" />
<!--
    <script src="../lib/easel.js" type="text/javascript"></script>-->
<!-- Import EaselJS Framework -->
<script src="../src/easeljs/utils/UID.js"></script>
<script src="../src/easeljs/geom/Matrix2D.js"></script>
<script src="../src/easeljs/events/MouseEvent.js"></script>
<script src="../src/easeljs/display/DisplayObject.js"></script>
<script src="../src/easeljs/display/Container.js"></script>
<script src="../src/easeljs/display/Bitmap.js"></script>
<script src="../src/easeljs/display/Graphics.js"></script>
<script src="../src/easeljs/display/Shape.js"></script>
<script src="../src/easeljs/display/Stage.js"></script>
<script src="../src/easeljs/utils/Ticker.js"></script>
<script src="../src/easeljs/display/Text.js"></script>
    <script src="../lib/tween.js" type="text/javascript"></script>
    <script src="Vector2.js" type="text/javascript"></script>
    <script src="Bubble.js" type="text/javascript"></script>
    <script src="Toad.js" type="text/javascript"></script>
    <script src="Star.js" type="text/javascript"></script>
    <script src="TweenMany.js" type="text/javascript"></script>
    <script src="../src/easeljs/geom/Rectangle.js" type="text/javascript"></script>
<!-- End EaselJS Imports -->

<script>
    var canvas;
    var stage;
    var backgroup1;
    var backgroup2;
    var backgroup;
    var bubble;
    var star;
    var speed;

    var tweenMany;
    var con1;
    var con2;
    var lefttape;
    var righttape;
    var cutter;
    var toad;

    var bar;

    var W;
    var H;
    
    function init() {

        //find canvas and load images, wait for last image to load
        canvas = document.getElementById("testCanvas");
        W = canvas.width;
        H = canvas.height;
        stage = new Stage(canvas);

        cutter = new Bitmap("img/boxcutter.png");
        cutter.x = 131;
        cutter.y = 205;
        backgroup = new Bitmap("img/menubg.jpg");


        backgroup1 = new Bitmap("img/levelbg1.jpg");
        backgroup1.x = 384;
        backgroup2 = new Bitmap("img/levelbg1.jpg");
        lefttape = new Bitmap("img/leveltape_left.png");
        lefttape.x = 364;
        lefttape.y = 10;
        righttape = new Bitmap("img/leveltape_right.png");
        righttape.x = 384;
        righttape.y = 10;
        con1 = new Container();
        con1.addChild(backgroup1);
        con1.addChild(righttape);

        con2 = new Container();
        con2.addChild(backgroup2);
        con2.addChild(lefttape);

        speed = new Vector2(5, 5);
        bubble = new Bubble(speed);
        star = new Star(200, 200, 100);
        toad = new Toad(200, 300);
        tweenMany = new TweenMany();
        tweenMany.createLoop(bar, 100, true, con1);
//        toad.Add();
//        toad.Mouth();
//        toad.Greet();
//        toad.Anxiety();
//        toad.Despair();
//        toad.Move();
//        toad.Fool();
//        toad.Unknow();
//        toad.Eat();
//        Tween.get(cutter, { loop: false }, true)
//		.to({ y: -200 }, 1500, Ease.get(-2))
//		.to({ alpha: 0.1 }, 1000, Ease.get(1))


        speed = new Vector2(5, 5);
        stage.addChild(backgroup);
        stage.addChild(bubble);
        stage.addChild(star);
        stage.addChild(toad);

        stage.addChild(con1);
        stage.addChild(con2);
        stage.addChild(cutter);

        Ticker.addListener(window);
        Tween.get(cutter)
        .to({ y: -100 }, 1000)
		.to({ alpha: 0 }, 500)
  .call(function () {
      Tween.get(con2, { loop: false })
                .to({ x: -384 }, 500)
                
      Tween.get(con1, { loop: false })
                .to({ x: 384 }, 500)})

    }
    function tick() {

     
        stage.update();

    }

</script>
</head>
	
<body onload="init();">
	<div class="description">
		Simple sample showing how to use image URIs with the <strong>Bitmap</strong> class.
	</div>
	<div class="canvasHolder">
		<canvas id="testCanvas" width="768"  height="432"></canvas>
	</div>
</body>
</html>
